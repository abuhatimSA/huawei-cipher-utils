<!doctype html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <title>أداة تشفير وفك تشفير إعدادات هواوي</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Modern Flat UI Styles -->
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@100..900&display=swap" rel="stylesheet">

    <script src="js/constants.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js"
        integrity="sha512-PEsccDx9jqX6Dh4wZDCnWMaIO3gAaU0j46W//sSqQhUQxky6/eHZyeB3NrXD2xsyugAKd4KPiDANkcuoEa2JuA=="
        crossorigin="anonymous"></script>
</head>

<body>

    <header class="header-list">
        <ul>
            <li><a href="#home" id="homelink">الرئيسية</a></li>
            <li><a href="#passgen" id="passgenlink">توليد كلمات المرور</a></li>
            <li><a href="#cipher" id="cipherlink">تشفير / فك التشفير</a></li>
        </ul>
    </header>

    <main>
        <div id="home">
            <h1 class="content">حول الأداة</h1>
            <div class="divider"></div>

            <div class="content">
                <p>
                    توفر هذه الصفحة مجموعة من الأدوات البسيطة التي تساعد في فهم طريقة عمل
                    التشفير ومعالجة كلمات المرور داخل ملفات إعدادات أجهزة هواوي المنزلية.
                    تعمل جميع العمليات داخل المتصفح فقط، دون إرسال أي بيانات إلى أي خادم خارجي.
                </p>

                <p>
                    إذا رغبت في معرفة المزيد حول آلية التشفير وكيفية تخزين الحقول الحساسة
                    داخل ملف الإعدادات، يمكنك قراءة التحليل التفصيلي الذي نشرته هنا:
                    <a href="https://abuhatim.net/huawei-router-config-encryption-analysis/" target="_blank">
                        تحليل تشفير إعدادات راوترات هواوي
                    </a>.
                </p>

                <p>
                    يسعدني استقبال أي اقتراحات أو تحسينات على هذه الصفحة.
                </p>
            </div>
        </div>


        <!-- صفحة توليد كلمات المرور -->
        <div id="passgen" style="display: none;">
            <h1 class="content">توليد كلمات المرور</h1>
            <div class="divider"></div>

            <div class="content">

                <div class="input-description">
                    كلمة المرور:
                    <input id="PasswordField" class="user-input" placeholder="اكتب كلمة المرور" type="text"
                        oninput="OnPasswordChange()">
                </div>

                <div class="input-description">
                    وضع التشفير:
                    <select id="EncryptionMode" class="user-input" onchange="EncryptionModeChange()">
                        <option value="1">MD5</option>
                        <option value="2">SHA256 + MD5</option>
                        <option value="3">PBKDF2 (Iterations: 5000)</option>
                    </select>
                </div>

                <div class="input-description">
                    الملح (Salt):
                    <div style="display:flex; align-items:center; width:100%; gap:10px;">

                        <!-- حقل الإدخال -->
                        <input id="SaltField" class="user-input" placeholder="salt">

                        <!-- زر العشوائي الاحترافي (معطّل) -->
                        <div class="toggle-container">
                            <span>عشوائي</span>
                            <label class="switch disabled-switch">
                                <input type="checkbox" id="SaltRandomizeField" checked disabled>
                                <span class="slider"></span>
                            </label>
                        </div>

                    </div>
                </div>


                <div class="input-description">
                    النتيجة:
                    <div style="display:flex; align-items:center; width:100%;">

                        <!-- الحقل + زر النسخ -->
                        <div class="copy-wrapper" style="flex-grow:1;">
                            <input id="ResultField" class="user-input no-input" placeholder="النتيجة" disabled>

                            <!-- أيقونة النسخ داخل الحقل -->
                            <i class="fa-regular fa-copy copy-btn" onclick="CopyPasswordResult()"></i>
                        </div>

                        <!-- زر التشفير الاحترافي -->
                        <div class="toggle-container">
                            <span>تشفير</span>
                            <label class="switch">
                                <input type="checkbox" id="EncryptResultField" onclick="OnEncryptResultClick()" checked>
                                <span class="slider"></span>
                            </label>
                        </div>

                    </div>

                    <span id="CopyPasswordSuccess" class="copy-success">تم النسخ ✓</span>
                </div>

            </div>
        </div>
        </div>


        <div id="cipher" style="display:none;">
            <h1 class="content">تشفير / فك التشفير</h1>
            <div class="divider"></div>

            <div class="content">
                <p class="input-description">يمكنك هنا تشفير أو فك تشفير النصوص بالطريقة التي تستخدمها أجهزة هواوي في
                    ملفات الإعدادات.</p>

                <div class="input-description">
                    الإدخال:
                    <input id="CipherInputField" class="user-input" placeholder="النص" oninput="OnCipherInputChange()">
                </div>

                <div class="input-description">
                    العملية:
                    <select id="CipherFunctionField" class="user-input" onchange="OnCipherInputChange()">
                        <option value="1">فك التشفير</option>
                        <option value="2">التشفير</option>
                    </select>
                </div>
                <div class="input-description">
                    النتيجة:
                    <div class="copy-wrapper">
                        <input id="CipherResultField" class="user-input no-input" placeholder="النتيجة" disabled>

                        <i class="fa-regular fa-copy copy-btn" onclick="CopyCipherResult()"></i>
                    </div>

                    <span id="CopySuccessMessage" class="copy-success">تم النسخ ✓</span>
                </div>

            </div>
        </div>

    </main>

    <script src="js/index.js"></script>

</body>

</html>